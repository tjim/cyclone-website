<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns='http://www.w3.org/1999/xhtml'>
<head>
<meta http-equiv='Content-Type' content='text/html; charset=utf-8' />
<link media='all' href='/files/styles.css' rel='stylesheet' type='text/css' />
<link rel="icon" href="/files/cyclone-favicon.png" type="image/png" />
<title>Cyclone: aprof</title>
</head>
<body>
</head>
<body>
<div id="header">
  <div id="header_strip">
    <a href="/"><div id="header_logo"></div></a>
  </div>
  <div id="menu">
    <a href="/">Home</a>
    <a href="/blog">Blog</a>
    <a href="/wiki">Wiki</a>
    <a href="/wiki/Download">Download</a>
  </div>
</div>
<div id="content">
<h2>aprof</h2>

<p>Cyclone comes with a tool, <code>aprof</code>, that helps to debug allocation.
To get a profile of the allocation behavior of a Cyclone program,
follow these steps:</p>

<ol>
<li><p>Compile the program with the flag <code>-pa</code>. The resulting executable
will be compiled to record allocation behavior. It will also be
linked with a version of the standard library that records its
allocation behavior. (If you get the message, &#8220;can&#8217;t find internal
compiler file libcyc_a.a,&#8221; then ask your system administrator to
install the special version of the library.)</p></li>
<li><p>Execute the program as normal. As it executes, it will write to a
file <code>amon.out</code> in the current working directory; if the file
exists before execution, it will be overwritten.</p></li>
<li><p>Run the program <code>aprof</code>. This will examine amon.out and print a
report on the allocation behavior of the program.</p></li>
</ol>
</div>
</body>
</html>
